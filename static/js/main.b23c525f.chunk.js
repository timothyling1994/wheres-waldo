(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),i=n(35),r=n.n(i),o=(n(43),n(10)),l=(n(44),n(13)),a=n(9),d=n(2);var p=function(e){return Object(d.jsxs)("div",{className:"Card",children:[Object(d.jsx)("img",{src:e.imgSrc,alt:"main level"}),Object(d.jsxs)("div",{className:"card-description",children:[Object(d.jsx)("div",{className:"level-label",children:e.level}),Object(d.jsxs)("div",{className:"profile-pic-container",children:[Object(d.jsx)("img",{className:"card-profile-pic",src:e.pics[0],alt:"find this person #1"}),Object(d.jsx)("img",{className:"card-profile-pic",src:e.pics[1],alt:"find this person #2"}),Object(d.jsx)("img",{className:"card-profile-pic",src:e.pics[2],alt:"find this person #3"})]})]})]})};var j=function(e){return Object(d.jsxs)("div",{className:"Home",children:[Object(d.jsx)(l.b,{to:"/",className:"link",children:Object(d.jsx)("div",{className:"header",children:"WHERE'S WALDO"})}),Object(d.jsxs)("div",{className:"levels-container",children:[Object(d.jsx)(l.b,{to:"/game",onClick:function(){return e.setLevel(0)},className:"link",children:Object(d.jsx)(p,{imgSrc:e.levelSettings[0].imgSrcCropped,pics:e.levelSettings[0].findPeoplePics,level:"LEVEL 1"})}),Object(d.jsx)(l.b,{to:"/game",onClick:function(){return e.setLevel(1)},className:"link",children:Object(d.jsx)(p,{imgSrc:e.levelSettings[1].imgSrcCropped,pics:e.levelSettings[1].findPeoplePics,level:"LEVEL 2"})}),Object(d.jsx)(l.b,{to:"/game",onClick:function(){return e.setLevel(2)},className:"link",children:Object(d.jsx)(p,{imgSrc:e.levelSettings[2].imgSrcCropped,pics:e.levelSettings[2].findPeoplePics,level:"LEVEL 3"})})]}),Object(d.jsxs)("div",{className:"home-leaderboard-container",children:[Object(d.jsxs)("div",{className:"home-leaderboard-description-container",children:[Object(d.jsx)("div",{className:"home-leaderboard-description",children:"ARE YOU A WHERE'S WALDO EXPERT?"}),Object(d.jsx)("div",{className:"home-leaderboard-description",children:"VIEW THE LEADERBOARD"})]}),Object(d.jsx)("div",{className:"home-leaderboard-btn-container",children:Object(d.jsx)(l.b,{to:"/leaderboard",className:"link",children:Object(d.jsx)("div",{className:"home-leaderboard-btn",children:"VIEW LEADERBOARD"})})})]})]})},u=n(18),m=n(21),b=n.n(m),O=n(27);var v=function(e){var t=e.currentSelection[0][0],n=e.currentSelection[0][1],c={position:"absolute",left:t+e.mainImageOffset[0]+58+"px",top:n+e.mainImageOffset[1]+"px"},s=function(c,s){if(e.isCorrectSelection(c)){var i=Object(u.a)(e.foundObjects);i.push([t,n]),e.setFoundObjects(i),e.markFound(s),e.toggleDropDown(!1),e.setCurrentSelection([])}else{var r=document.querySelector(".currentSelection");r.style.borderColor="red",r.classList.add("shake"),setTimeout((function(){e.toggleDropDown(!1),e.setCurrentSelection([])}),1e3)}};return Object(d.jsxs)("div",{className:"DropDown",style:c,children:[Object(d.jsxs)("div",{className:e.peopleDropDownAttributes[0].join(" "),onClick:function(){s(e.thisLevelSettings.findPeople[0],0)},children:[Object(d.jsx)("img",{src:e.thisLevelSettings.findPeoplePics[0],className:"people-pic-drop-down",alt:"option for selection"}),Object(d.jsx)("div",{className:"people-label-drop-down",children:e.thisLevelSettings.findPeople[0]})]}),Object(d.jsxs)("div",{className:e.peopleDropDownAttributes[1].join(" "),onClick:function(){s(e.thisLevelSettings.findPeople[1],1)},children:[Object(d.jsx)("img",{src:e.thisLevelSettings.findPeoplePics[1],className:"people-pic-drop-down",alt:"option for selection"}),Object(d.jsx)("div",{className:"people-label-drop-down",children:e.thisLevelSettings.findPeople[1]})]}),Object(d.jsxs)("div",{className:e.peopleDropDownAttributes[2].join(" "),onClick:function(){s(e.thisLevelSettings.findPeople[2],2)},children:[Object(d.jsx)("img",{src:e.thisLevelSettings.findPeoplePics[2],className:"people-pic-drop-down",alt:"option for selection"}),Object(d.jsx)("div",{className:"people-label-drop-down",children:e.thisLevelSettings.findPeople[2]})]})]})},h=n(17);var f=Object(a.f)((function(e){return Object(d.jsx)("div",{className:"GameOver",children:Object(d.jsxs)("div",{className:"modal-container",children:[Object(d.jsxs)("div",{className:"modal-header",children:["YOU FINISHED IN: ",Math.round(100*e.finalTime)/100," seconds!"]}),Object(d.jsx)("div",{className:"modal-description",children:"ENTER YOUR NAME:"}),Object(d.jsx)("div",{className:"modal-input",children:Object(d.jsx)("input",{className:"name-input",style:{textTransform:"uppercase"}})}),Object(d.jsxs)("div",{className:"modal-button-row",children:[Object(d.jsx)("div",{className:"modal-submit",onClick:function(){var t=document.querySelector(".name-input").value,n=Math.round(100*e.finalTime)/100;h.a.firestore().collection("leaderboard").doc("level "+e.currentLevel).collection("users").doc(e.getTimerSession).set({name:t,time:n}),e.toggleGameOverModal(!1),e.history.push("/leaderboard")},children:"SUBMIT"}),Object(d.jsx)("div",{className:"modal-cancel",onClick:function(){e.toggleGameOverModal(!1),e.history.push("/")},children:"CANCEL"})]})]})})})),g=n(22),x=n.n(g);var S=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],i=n[1],r=Object(c.useState)([]),a=Object(o.a)(r,2),p=a[0],j=a[1],m=Object(c.useState)([]),g=Object(o.a)(m,2),S=g[0],N=g[1],E=Object(c.useState)(["find-people-container"]),w=Object(o.a)(E,2),L=w[0],C=w[1],P=Object(c.useState)([["people-img"],["people-img"],["people-img"]]),k=Object(o.a)(P,2),D=k[0],y=k[1],R=Object(c.useState)([["people-drop-down-container"],["people-drop-down-container"],["people-drop-down-container"]]),A=Object(o.a)(R,2),T=A[0],I=A[1],B=Object(c.useState)(!1),M=Object(o.a)(B,2),W=M[0],H=M[1],q=e.levelSettings[e.getLevel()],V=e.getLevel(),U=Object(c.useState)({}),Y=Object(o.a)(U,2),K=Y[0],G=Y[1],F=Object(c.useState)({}),J=Object(o.a)(F,2),z=J[0],X=J[1],Q=1355,Z=Object(c.useState)([]),$=Object(o.a)(Z,2),_=$[0],ee=$[1],te=Object(c.useState)(0),ne=Object(o.a)(te,2),ce=ne[0],se=ne[1],ie=Object(c.useState)(0),re=Object(o.a)(ie,2),oe=re[0],le=re[1],ae=Object(c.useState)(0),de=Object(o.a)(ae,2),pe=de[0],je=de[1],ue=Object(c.useState)(!1),me=Object(o.a)(ue,2),be=me[0],Oe=me[1],ve=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==oe){e.next=13;break}return console.log("game over!"),t=h.a.firestore().collection("timers").doc(ce),e.prev=3,e.next=6,t.get();case 6:(n=e.sent).exists?(c=n.data().startTime,s=(new Date).getTime()/1e3,console.log(s-c),je(s-c),Oe(!0)):console.log("No such document!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error getting document:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object.assign({},K);for(var t in e){var n=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),c=(1-(Q-n)/Q)*e[t][0],s=(1-(Q-n)/Q)*e[t][1];e[t]=[c,s]}X(e)},fe=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),N([t]),e.prev=2,e.next=5,ge();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Error getting documents",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){var t=Object(O.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.a.firestore().collection("solutions").doc("level"+(e.getLevel()+1)),t.prev=1,t.next=4,n.get();case 4:(c=t.sent).exists?G(c.data()):console.log("No such document!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error getting document:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),xe=function(){var e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);if(0!==s.length){var t=(1-(S-e)/S)*s[0][0],n=(1-(S-e)/S)*s[0][1];i([[t,n]])}if(0!==p.length){for(var c=[],r=0;r<p.length;r++){var o=(1-(S-e)/S)*p[r][0],l=(1-(S-e)/S)*p[r][1];c.push([o,l])}j(c)}N(e),he();var a=document.querySelector(".main-img").getBoundingClientRect(),d=a.top-document.body.getBoundingClientRect().top;ee([a.left,d])},Se=function(){var e=window.scrollY,t=document.querySelector(".main-img-container");e>50?(C(["find-people-container","sticky"]),null!==t&&t.classList.add("shift-main-image")):(C(["find-people-container"]),null!==t&&t.classList.remove("shift-main-image"))};return Object(c.useEffect)((function(){fe(),function(){var t=(new Date).getTime()/1e3;h.a.firestore().collection("timers").add({startTime:t}).then((function(t){console.log(t.id),e.setTimerSession(t.id),se(t.id)})).catch((function(e){console.error("There was an error uploading to Cloud Storage:",e)}))}()}),[]),Object(c.useEffect)((function(){he()}),[K]),Object(c.useEffect)((function(){return console.log("scroll"),window.addEventListener("scroll",Se),function(){window.removeEventListener("scroll",Se),function(){var e=document.querySelector(".DropDown");null!==e&&document.querySelector(".DropDown").parentNode.removeChild(e)}(),document.querySelectorAll(".rectBox").forEach((function(e){e.parentNode.removeChild(e)}))}}),[V]),Object(c.useEffect)((function(){return window.addEventListener("resize",xe),function(){window.removeEventListener("resize",xe)}})),Object(c.useEffect)((function(){ve()}),[oe]),Object(d.jsxs)("div",{className:"Level",children:[Object(d.jsx)(l.b,{to:"/",className:"link",children:Object(d.jsx)("div",{className:"header",children:"WHERE'S WALDO"})}),Object(d.jsx)("div",{className:"game-over-modal",children:be?Object(d.jsx)(f,{finalTime:pe,toggleGameOverModal:function(e){Oe(e)},currentLevel:V,getTimerSession:e.getTimerSession}):null}),Object(d.jsxs)("div",{className:L.join(" "),children:[Object(d.jsxs)("div",{className:"people",children:[Object(d.jsx)("div",{className:"people-img-container",children:Object(d.jsx)("img",{className:D[0].join(" "),src:q.findPeoplePics[0],alt:"find this person"})}),Object(d.jsx)("div",{className:"people-label",children:q.findPeople[0]})]}),Object(d.jsxs)("div",{className:"people",children:[Object(d.jsx)("div",{className:"people-img-container",children:Object(d.jsx)("img",{className:D[1].join(" "),src:q.findPeoplePics[1],alt:"find this person"})}),Object(d.jsx)("div",{className:"people-label",children:q.findPeople[1]})]}),Object(d.jsxs)("div",{className:"people",children:[Object(d.jsx)("div",{className:"people-img-container",children:Object(d.jsx)("img",{className:D[2].join(" "),src:q.findPeoplePics[2],alt:"find this person"})}),Object(d.jsx)("div",{className:"people-label",children:q.findPeople[2]})]})]}),Object(d.jsxs)("div",{className:"main-img-container",children:[p.map((function(e,t){return Object(d.jsx)("div",{className:"rectBox found correct",style:{left:_[0]+e[0]-50+"px",top:_[1]+e[1]-50+"px",borderRadius:"50%"}},x()())})),s.map((function(e,t){return Object(d.jsx)("div",{className:"rectBox currentSelection",style:{left:_[0]+e[0]-50+"px",top:_[1]+e[1]-50+"px",borderRadius:"50%"}},x()())})),W?Object(d.jsx)(v,{thisLevelSettings:q,currentSelection:s,setCurrentSelection:i,isCorrectSelection:function(e){return s[0][0]>=z[e][0]-60&&s[0][0]<=z[e][0]+60&&s[0][1]>=z[e][1]-60&&s[0][1]<=z[e][1]+60?(console.log(!0),!0):(console.log(!1),!1)},toggleDropDown:function(e){H(e)},mainImageOffset:_,foundObjects:p,setFoundObjects:j,markFound:function(e){var t=Object(u.a)(D);t[e].push("person-found"),y(t);var n=Object(u.a)(T);n[e].push("person-found-dropdown"),I(n),le((function(e){return e+1}))},peopleDropDownAttributes:T},x()()):null,Object(d.jsx)("img",{onClick:function(e){!function(e){var t=e.target.getBoundingClientRect(),n=t.top-document.body.getBoundingClientRect().top;ee([t.left,n]);var c=e.pageX-t.left,s=e.pageY-n;if(console.log(c,s),c-20>=0&&s-20>=0){var r=[];r.push([c,s]),i(r),H(!0)}}(e)},className:"main-img",src:q.imgSrc,alt:"main level"})]})]})};var N=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],i=n[1],r=Object(c.useRef)([]),a=function(e,t){var n;n=t,r.current=[],h.a.firestore().collection("leaderboard").doc("level "+n).collection("users").orderBy("time","asc").limit(25).onSnapshot((function(e){e.docChanges().forEach((function(e){if("removed"===e.type){for(var t=e.doc.data(),n=Object(u.a)(r.current),c=0;c<n.length;c++)n[c][0]===t.name&&n[c][1]===t.time&&n.splice(c,1);i(n),r.current=n}else{var s=e.doc.data(),o=Object(u.a)(r.current);o.push([s.name,s.time]),i(o),r.current=o}}))})),document.querySelectorAll(".Card").forEach((function(e){e.classList.contains("leaderboard-highlight")&&e.classList.remove("leaderboard-highlight")})),e.target.closest(".Card").classList.add("leaderboard-highlight")};return Object(d.jsxs)("div",{className:"LeaderBoard",children:[Object(d.jsx)(l.b,{to:"/",className:"link",children:Object(d.jsx)("div",{className:"header",children:"WHERE'S WALDO"})}),Object(d.jsx)("div",{className:"leaderboard-header",children:"LEADERBOARD"}),Object(d.jsxs)("div",{className:"levels-container",children:[Object(d.jsx)("div",{onClick:function(e){return a(e,0)},children:Object(d.jsx)(p,{imgSrc:e.levelSettings[0].imgSrcCropped,pics:e.levelSettings[0].findPeoplePics,level:"LEVEL 1"})}),Object(d.jsx)("div",{onClick:function(e){return a(e,1)},children:Object(d.jsx)(p,{imgSrc:e.levelSettings[1].imgSrcCropped,pics:e.levelSettings[1].findPeoplePics,level:"LEVEL 2"})}),Object(d.jsx)("div",{onClick:function(e){return a(e,2)},children:Object(d.jsx)(p,{imgSrc:e.levelSettings[2].imgSrcCropped,pics:e.levelSettings[2].findPeoplePics,level:"LEVEL 3"})})]}),Object(d.jsx)("div",{className:"leaderboard-scores",children:Object(d.jsx)("table",{children:Object(d.jsxs)("tbody",{children:[s.length>0?Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Username"}),Object(d.jsx)("th",{children:"Time"})]}):null,s.map((function(e){return Object(d.jsxs)("tr",{className:"entry-container",children:[Object(d.jsx)("th",{className:"username",children:e[0]}),Object(d.jsx)("th",{className:"final-time",children:e[1]+"s"})]},x()())}))]})})})]})};var E=function(){var e=[{imgSrc:"assets/level-one.png",imgSrcCropped:"assets/level-one-cropped.png",findPeople:["SARAH CONNER","MORPHEUS","SONNY"],findPeoplePics:["assets/sarah-conner.png","assets/morpheus.png","assets/sonny.png"]},{imgSrc:"assets/level-two.png",imgSrcCropped:"assets/level-two-cropped.png",findPeople:["JASON VOORHEES","PICKLE RICK","CHUCKY"],findPeoplePics:["assets/jason-voorhees.png","assets/pickle-rick.png","assets/chucky.png"]},{imgSrc:"assets/level-three.png",imgSrcCropped:"assets/level-three-cropped.png",findPeople:["TETSUO","BLADE","PRINCESS MONONOKE"],findPeoplePics:["assets/tetsuo.png","assets/blade.png","assets/princess-mononoke.png"]}],t=Object(c.useState)(0),n=Object(o.a)(t,2),s=n[0],i=n[1],r=Object(c.useState)(""),p=Object(o.a)(r,2),u=(p[0],p[1]),m=function(e){i(e)},b=function(){return s},O=function(e){u(e)};return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{exact:!0,path:"/",render:function(){return Object(d.jsx)(j,{levelSettings:e,setLevel:m})}}),Object(d.jsx)(a.a,{exact:!0,path:"/game",render:function(t){return Object(d.jsx)(S,{levelSettings:e,getLevel:b,setTimerSession:O})}}),Object(d.jsx)(a.a,{exact:!0,path:"/leaderboard",render:function(t){return Object(d.jsx)(N,{levelSettings:e})}})]})})})},w=n(38);n(53);w.a.initializeApp({apiKey:"AIzaSyBYiqbE7tORqMOgd0SP9v9MLLMrJG33JLg",authDomain:"wheres-waldo-6c2a0.firebaseapp.com",projectId:"wheres-waldo-6c2a0",storageBucket:"wheres-waldo-6c2a0.appspot.com",messagingSenderId:"1076355121632",appId:"1:1076355121632:web:347998d46f752d27c1eb85",measurementId:"G-HDVEXKCKE8"}),r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.b23c525f.chunk.js.map